{"version":3,"sources":["components/ErrorPage.js","components/UploadPage.js","components/FileItem.js","components/UploadedPage.js","components/HomePage.js","App.js","index.js"],"names":["ErrorPage","handleCloseError","text","Paper","elevation","width","height","p","position","Grid","container","direction","justifyContent","alignItems","Typography","mt","variant","gutterBottom","color","Button","fullWidth","onClick","IconButton","style","top","right","zIndex","Close","Input","styled","display","UploadPage","setError","setFiles","htmlFor","multiple","onChange","e","target","files","length","accept","id","type","component","FileItem","file","findFile","moveFile","createFileSrc","URL","createObjectURL","ownIndex","index","useDrag","ItemType","FILE","item","collect","monitor","isDragging","end","droppedId","didDrop","drag","useDrop","canDrop","hover","dragId","drop","opacity","ref","draggable","Box","overflow","pageNumber","src","alt","name","textOverflow","noWrap","pdfjs","GlobalWorkerOptions","workerSrc","version","UploadedPage","filesWithId","map","i","useState","filesList","setFilesList","find","indexOf","onIndex","update","$splice","fileItem","HomePage","error","console","log","Backdrop","sx","theme","drawer","open","currentTarget","errors","loadingFilesLimit","App","Container","ReactDOM","render","StrictMode","DndProvider","backend","HTML5Backend","document","getElementById"],"mappings":"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","file":"static/js/main.950f14fd.chunk.js","sourcesContent":["import { Button, Grid, IconButton, Paper, Typography } from '@material-ui/core'\r\nimport { Box } from '@material-ui/system'\r\nimport {Close} from \"@material-ui/icons\"\r\n\r\nexport default function ErrorPage({handleCloseError, text}) {\r\n    return <>\r\n        <Paper elevation={6}>\r\n            <Box width={500} height={220} p={3} position='relative'>\r\n                <Grid container direction='column' justifyContent='space-around' alignItems='center'>\r\n                    <Typography mt={3} variant='h4'>Error</Typography>\r\n                    <Typography mt={3} gutterBottom color='gray' variant='p'>{text}</Typography>\r\n                    <Box mt={5} width={180}>\r\n                        <Button fullWidth  onClick={handleCloseError} variant=\"contained\">OK</Button>\r\n                    </Box>\r\n                </Grid>\r\n                <IconButton\r\n                    onClick={handleCloseError}\r\n                    style={{ position: 'absolute', top: 10, right: 10, zIndex:10 }}\r\n                >\r\n                        <Close/>\r\n                </IconButton>\r\n            </Box>\r\n        </Paper>\r\n    </>\r\n}\r\n","import { Button, Grid, Paper } from \"@material-ui/core\";\r\nimport { Box, styled } from \"@material-ui/system\";\r\n\r\nconst Input = styled('input')({\r\n  display: 'none',\r\n});\r\n\r\nexport default function UploadPage({ setError, setFiles }) {\r\n  \r\n  const handleUpload = (e) => {\r\n    if (!e.target.files) return\r\n    if (e.target.files.length < 2 || e.target.files.length > 5) {\r\n      setError(true)\r\n    }\r\n    let files = e.target.files\r\n    setFiles([...files])\r\n  }\r\n  return (\r\n    <>\r\n      <Paper elevation={3}>\r\n        <Box width={800} height={300}>\r\n          <Grid\r\n            width='100%'\r\n            height='100%'\r\n            container\r\n            justifyContent='center'\r\n            alignItems='center'\r\n          >\r\n            <Paper elevation={18}>\r\n              <label htmlFor=\"contained-button-file\">\r\n                <Input\r\n                  multiple\r\n                  onChange={handleUpload}\r\n                  accept='image/jpeg,image/png,application/pdf'\r\n                  id=\"contained-button-file\"\r\n                  type=\"file\"\r\n                />\r\n                <Button variant=\"contained\" component=\"span\">\r\n                  Upload files\r\n                </Button>\r\n              </label>\r\n            </Paper>\r\n          </Grid>\r\n        </Box>\r\n      </Paper >\r\n    </>\r\n  )\r\n}\r\n","import { Paper, Box, Typography, Grid } from '@material-ui/core'\r\nimport { Document, Page, pdfjs } from 'react-pdf'\r\nimport { useDrag, useDrop } from 'react-dnd'\r\nimport { ItemType } from './UploadedPage'\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`\r\n\r\nexport default function FileItem({ file, id, findFile, moveFile}) {\r\n\r\n    function createFileSrc(file) {\r\n        return URL.createObjectURL(file)\r\n    }\r\n\r\n    const ownIndex = findFile(id).index\r\n\r\n    const [{ isDragging }, drag] = useDrag(\r\n    () => ({\r\n      type: ItemType.FILE,\r\n      item: { id, ownIndex },\r\n      collect: (monitor) => ({\r\n        isDragging: monitor.isDragging(),\r\n      }),\r\n      end: (item, monitor) => {\r\n        const { id: droppedId, ownIndex } = item\r\n\r\n        const didDrop = monitor.didDrop()\r\n        if (!didDrop) {\r\n          moveFile(droppedId, ownIndex)\r\n        }\r\n      },\r\n    }),\r\n    [id, ownIndex, moveFile]\r\n    )\r\n    \r\n    const [, drop] = useDrop(\r\n    () => ({\r\n      accept: ItemType.FILE,\r\n      canDrop: () => false,\r\n      hover({ id: dragId }) {\r\n        if (dragId !== id) {\r\n          const { index } = findFile(id)\r\n          moveFile(dragId, index)\r\n        }\r\n      },\r\n    }),\r\n    [findFile, moveFile]\r\n    )\r\n    \r\n    const opacity = isDragging ? 0.3 : 1\r\n\r\n    return (\r\n        <Paper\r\n      ref={(item) => drag(drop(item))}\r\n      style={{ opacity }}\r\n      draggable='true'\r\n      elevation={3}\r\n    >\r\n    <Box height={120} width={100} p={1}>\r\n        <Grid\r\n            container\r\n            direction='column'\r\n            justifyContent='space-between'\r\n            height='100%'\r\n            width='100%'\r\n        >\r\n            <Box height={90} width={100} overflow=\"hidden\">\r\n                \r\n                    {file.type === 'application/pdf'\r\n                        ? \r\n                        <Document file={createFileSrc(file)}>\r\n                            <Page height={120} width={100} pageNumber={1} />\r\n                        </Document>\r\n                        : <img src={createFileSrc(file)} width={100} alt={file.name} />\r\n                    }\r\n            </Box>\r\n                    <Typography\r\n                        overflow='hidden'\r\n                        textOverflow='ellipsis'\r\n                        noWrap\r\n                        width={100}\r\n                    >\r\n                        {file.name}\r\n                    </Typography>\r\n        </Grid>\r\n    </Box>\r\n    </Paper>\r\n    )\r\n}\r\n","import { useState } from 'react'\r\nimport { Grid, Paper } from '@material-ui/core'\r\nimport { Box } from '@material-ui/system'\r\nimport { useDrop } from 'react-dnd'\r\nimport update from 'immutability-helper'\r\nimport FileItem from './FileItem'\r\n\r\n\r\nexport const ItemType = {\r\n  FILE: \"file\"\r\n}\r\n\r\nexport default function UploadedPage({files}) {\r\n\r\n    const [, drop] = useDrop(() => ({ accept: ItemType.FILE }))\r\n\r\n    const filesWithId = files.map((file, i) => {\r\n        return { id: i + 1, file: file }\r\n    })\r\n\r\n    const [filesList, setFilesList] = useState(filesWithId)\r\n\r\n    const findFile = (id) => {\r\n      const file = filesList.find((file) => file.id === id)\r\n      return {\r\n        file,\r\n        index: filesList.indexOf(file)\r\n      }\r\n    }\r\n    \r\n    const moveFile = (id, onIndex) => {\r\n      const { file, index } = findFile(id)\r\n      setFilesList(update(filesList, {$splice: [[index, 1],[onIndex, 0, file]]}))\r\n    }\r\n    \r\n    return (\r\n        <Paper elevation={3}>\r\n            <Box width={800} height={300}>\r\n                <Grid\r\n                    width='100%'\r\n                    height='100%'\r\n                    container\r\n                    justifyContent='space-evenly'\r\n                    alignItems='center'\r\n                    ref={drop}\r\n                >\r\n                    {filesList.map((fileItem, i) => {\r\n                        return <FileItem\r\n                                file={fileItem.file}\r\n                                key={i}\r\n                                id={fileItem.id}\r\n                                findFile={findFile}\r\n                                moveFile={moveFile}\r\n                            />\r\n                        })\r\n                    }\r\n                </Grid>\r\n            </Box>\r\n        </Paper>\r\n    )\r\n}\r\n","import { Backdrop, Button, Grid, Box } from '@material-ui/core';\r\nimport { useState } from 'react'\r\nimport ErrorPage from './ErrorPage';\r\nimport UploadPage from './UploadPage';\r\nimport errors from '../data/errors.json'\r\nimport UploadedPage from './UploadedPage';\r\n\r\nexport default function HomePage () {\r\n\r\n  const [error, setError] = useState(false);\r\n  const [files, setFiles] = useState([])\r\n\r\n  const onBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) setError(false);\r\n  }\r\n  const handleCloseError = () => {\r\n    setError(false);\r\n  }\r\n  const handleCleanDashboard = () => {\r\n    setFiles([]);\r\n  }\r\n  console.log(files)\r\n  return <>\r\n      <Box width=\"100%\" height=\"100vh\">\r\n      <Grid\r\n        width='100%'\r\n        height='100%'\r\n        container\r\n        justifyContent='center'\r\n        alignItems='center'\r\n      >\r\n        {files.length < 2 || files.length > 5\r\n          ? <UploadPage setError={setError} setFiles={setFiles}/>\r\n          : <UploadedPage files={files}/>\r\n        }\r\n      </Grid>\r\n      </Box>\r\n      <Backdrop\r\n        sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n        open={error}\r\n        onClick={onBackdropClick}\r\n        >\r\n        <ErrorPage\r\n          text={errors.loadingFilesLimit}\r\n          handleCloseError={handleCloseError}\r\n          />\r\n      </Backdrop>\r\n    {(2 <= files.length && files.length <= 5) && <Button style={{ position: 'absolute', top: 20, right: 20 }} onClick={handleCleanDashboard}>Clean dashboard</Button>}\r\n  </>\r\n}","import { Container } from '@material-ui/core';\nimport './App.css';\nimport HomePage from './components/HomePage'\n\nexport default function App() {\n  return <>\n    <Container>\n\n      <HomePage />\n\n    </Container>\n  </>\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { DndProvider } from 'react-dnd'\nimport { HTML5Backend } from 'react-dnd-html5-backend'\n\nReactDOM.render(\n  <React.StrictMode>\n    <DndProvider backend={HTML5Backend}>\n      <App />\n    </DndProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}